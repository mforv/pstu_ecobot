<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Bot Map</title>

    <!-- CSS -->
    <link href="/static/css/styles.css" rel="stylesheet">
    <script type="text/javascript" src='/static/map.js' charset="utf-8"></script>

</head>
<body>
    <div class="nav-bar">
        <div class="nav-element"><a href="/msg"><img src="/static/img/icon_msg.png"  class="nav-icon"></a></div>
        <div class="nav-element"><a href="/cam"><img src="/static/img/icon_cam.png" class="nav-icon"></a></div>
        <div class="nav-element"><a href="/auto"><img src="/static/img/icon_auto.png" class="nav-icon"></a></div>
        <!-- <div class="nav-element"><a href="/man"><img src="/static/img/icon_man.png" class="nav-icon"></a></div> -->
        <div class="nav-element"><a href="/"><img src="/static/img/icon_map.png" class="nav-icon active"></a></div>
        <div class="nav-element"><a href="/prefs"><img src="/static/img/icon_prefs.png" class="nav-icon"></a></div>
    </div>
    <div class="object-title fade"></div>
    <div class="container" onclick="hideName();" ondblclick="toggleRouteOn();">
        <div id="bot" class="bot-marker">М</div>
        <div id="route-container" class="route-view">
            <form id='route-form' action="" method="POST" >
                <div>
                    <div class="route-control"><input type="text" placeholder="Откуда"  name="route_from"></div>
                    <div class="route-control"><input id="route-to" stype="text" placeholder="Куда"  name="route_to"></div>
                    <div class="route-control"><textarea placeholder="Что сделать" name="route_what"></textarea></div>
                    <div class="route-control"><button type="button" onclick="getPath()">Задать маршрут</button></div>
                </div>
            </form>
        </div>
    </div>
    <div id='svg-c' style='position: absolute; top: 0; left: 0; z-index: 2; pointer-events: none;'></div>
    <div class="object-layer"></div>
    <script>
        // var initial_width = 2256;
        // var initial_height = 1476;
        var initial_width = 1770;
        var initial_height = 1110;
        // var objects = [
        //     {name: "Ель", loc: [31, 613], size: [276, 427]},
        //     {name: "Оранжевый дом", loc: [709, 789], size: [271, 301]},
        //     {name: "Фиолетовый дом", loc: [69, 104], size: [202, 249]},
        //     {name: "Желтый дом", loc: [1476, 237], size: [237, 294]}
        //     // {name: "Ель", loc: [265, 778], size: [276, 427]},
        //     // {name: "Оранжевый дом", loc: [942, 950], size: [271, 301]},
        //     // {name: "Фиолетовый дом", loc: [303, 265], size: [202, 249]},
        //     // {name: "Желтый дом", loc: [1710, 400], size: [237, 294]}
        // ];
        var objects = JSON.parse('{{ map_objects | tojson}}')
        // setMapImage({{set_map | safe}});
        setMapHeight();
        setBotMarker(initial_width, 475, 455);
        loadData(initial_width, initial_height, objects);
    </script>
</body>
</html>
